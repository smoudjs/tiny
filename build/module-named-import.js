!function(){"use strict";var t={d:function(i,e){for(var r in e)t.o(e,r)&&!t.o(i,r)&&Object.defineProperty(i,r,{enumerable:!0,get:e[r]})},o:function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},r:function(t){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})}},i={};t.r(i),t.d(i,{Primitives:function(){return c},VERSION:function(){return n},hex2rgb:function(){return d},hex2style:function(){return u},registerSystem:function(){return a},rgb2hex:function(){return l},rnd:function(){return p},style2hex:function(){return y},systems:function(){return o}});var e=function(t,i){this.x=t||0,this.y=i||0};e.prototype={set:function(t,i){return this.x=t||0,this.y=i||(0!==i?this.x:0),this}};var r=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.type=Tiny.MATRIX};r.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},r.prototype.toArray=function(t){this.array||(this.array=new Float32Array(9));var i=this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},r.prototype.apply=function(t,i){i=i||new e;var r=t.x,s=t.y;return i.x=this.a*r+this.c*s+this.tx,i.y=this.b*r+this.d*s+this.ty,i},r.prototype.applyInverse=function(t,i){i=i||new e;var r=1/(this.a*this.d+this.c*-this.b),s=t.x,h=t.y;return i.x=this.d*r*s+-this.c*r*h+(this.ty*this.c-this.tx*this.d)*r,i.y=this.a*r*h+-this.b*r*s+(-this.ty*this.a+this.tx*this.b)*r,i},r.prototype.translate=function(t,i){return this.tx+=t,this.ty+=i,this},r.prototype.scale=function(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this},r.prototype.rotate=function(t){var i=Math.cos(t),e=Math.sin(t),r=this.a,s=this.c,h=this.tx;return this.a=r*i-this.b*e,this.b=r*e+this.b*i,this.c=s*i-this.d*e,this.d=s*e+this.d*i,this.tx=h*i-this.ty*e,this.ty=h*e+this.ty*i,this},r.prototype.append=function(t){var i=this.a,e=this.b,r=this.c,s=this.d;return this.a=t.a*i+t.b*r,this.b=t.a*e+t.b*s,this.c=t.c*i+t.d*r,this.d=t.c*e+t.d*s,this.tx=t.tx*i+t.ty*r+this.tx,this.ty=t.tx*e+t.ty*s+this.ty,this},r.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},r.identityMatrix=new r;var s=2*Math.PI,h=function(){this.position=new e(0,0),this.scale=new e(1,1),this.pivot=new e(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!1,this.parent=null,this.worldAlpha=1,this.worldTransform=new r,this._sr=0,this._cr=1,this._cacheAsBitmap=!1};h.prototype.constructor=h,h.prototype.destroy=function(){this.parent&&this.parent.remove(this),this.parent=null,this.worldTransform=null,this.visible=!1,this.renderable=!1,this._destroyCachedSprite()},Object.defineProperty(h.prototype,'worldVisible',{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}}),Object.defineProperty(h.prototype,'cacheAsBitmap',{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(t?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=t)}}),h.prototype.updateTransform=function(){if(this.parent){var t,i,e,r,h,n,o=this.parent.worldTransform,a=this.worldTransform;this.rotation%s?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,i=this._sr*this.scale.x,e=-this._sr*this.scale.y,r=this._cr*this.scale.y,h=this.position.x,n=this.position.y,(this.pivot.x||this.pivot.y)&&(h-=this.pivot.x*t+this.pivot.y*e,n-=this.pivot.x*i+this.pivot.y*r),a.a=t*o.a+i*o.c,a.b=t*o.b+i*o.d,a.c=e*o.a+r*o.c,a.d=e*o.b+r*o.d,a.tx=h*o.a+n*o.c+o.tx,a.ty=h*o.b+n*o.d+o.ty):(t=this.scale.x,r=this.scale.y,h=this.position.x-this.pivot.x*t,n=this.position.y-this.pivot.y*r,a.a=t*o.a,a.b=t*o.b,a.c=r*o.c,a.d=r*o.d,a.tx=h*o.a+n*o.c+o.tx,a.ty=h*o.b+n*o.d+o.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha}},h.prototype.displayObjectUpdateTransform=h.prototype.updateTransform,h.prototype.getBounds=function(t){return Tiny.EmptyRectangle},h.prototype.getLocalBounds=function(){return this.getBounds(r.identityMatrix)},h.prototype.generateTexture=function(t,i){var e=this.getLocalBounds(),r=new Tiny.RenderTexture(0|e.width,0|e.height,i,t);return h._tempMatrix.tx=-e.x,h._tempMatrix.ty=-e.y,r.render(this,h._tempMatrix),r},h.prototype.updateCache=function(){this._generateCachedSprite()},h.prototype.toGlobal=function(t){return this.displayObjectUpdateTransform(),this.worldTransform.apply(t)},h.prototype.toLocal=function(t,i){return i&&(t=i.toGlobal(t)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(t)},h.prototype._renderCachedSprite=function(t){this._cachedSprite.worldAlpha=this.worldAlpha,Tiny.Sprite.prototype.render.call(this._cachedSprite,t)},h.prototype._generateCachedSprite=function(){this._cachedSprite=null,this._cacheAsBitmap=!1;var t=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.texture.resize(0|t.width,0|t.height);else{var i=new Tiny.RenderTexture(0|t.width,0|t.height);this._cachedSprite=new Tiny.Sprite(i),this._cachedSprite.worldTransform=this.worldTransform}h._tempMatrix.tx=-t.x,h._tempMatrix.ty=-t.y,this._cachedSprite.texture.render(this,h._tempMatrix,!0),this._cachedSprite.anchor.x=-t.x/t.width,this._cachedSprite.anchor.y=-t.y/t.height,this._cacheAsBitmap=!0},h.prototype._destroyCachedSprite=function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)},h.prototype.render=function(t){},Object.defineProperty(h.prototype,'x',{get:function(){return this.position.x},set:function(t){this.position.x=t}}),Object.defineProperty(h.prototype,'y',{get:function(){return this.position.y},set:function(t){this.position.y=t}}),h._tempMatrix=new r;var n='2.2.2',o=[],a=function(t,i){o.push({name:t,_class_:i})},c={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4,RREC_LJOIN:5},p=function(t,i){return t+Math.floor(Math.random()*(i-t+1))},y=function(t){return+t.replace('#','0x')},u=function(t){return'#'+('00000'+(0|t).toString(16)).substr(-6)},d=function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},l=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},f={Point:e,Matrix:r,BaseObject2D:h};Object.assign(f,i),window.Tiny=f}();